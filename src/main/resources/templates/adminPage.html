<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="../static/styles/adminPage.css">
</head>

<link rel="stylesheet" th:href="@{/styles/adminPage.css}">
<header class="header">
    <nav class="nav">
        <img id="logo"
             height="100"
             alt="Logo"
             src="./images/logo.png"
             title="Logo">
        <a th:href="@{/home}">Home</a>&emsp;
        <a th:href="@{/explore}">Explore All Parks</a>&emsp;
        <a th:href="@{/addPark}">Add a Park</a>&emsp;
    </nav>
</header>
<body>
<header>
    <h1>Admin Dashboard</h1>
</header>
<div id="admin-content">
    <section id="approve-section">
        <h2>Pending Park Approvals</h2>
        <p>Review and approve new park submissions to be added to the site.</p>
        <table class="park-table">
            <thead>
            <tr>
                <th>Name</th>
                <th>Location</th>
                <th>Rating</th>
                <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <!-- Replace this example data with dynamic Thymeleaf data -->
            <tr>
                <td>Linkin Park</td>
                <td>Ends</td>
                <td>2</td>
                <td><button class="approve-btn">Approve</button></td>
            </tr>
            <!-- Add more rows as needed -->
            </tbody>
        </table>
    </section>
    <h1>Approved Parks - Edit Details</h1>
    <section id="update-section">
        <p>Modify details about approved parks to keep information accurate and up-to-date.</p>
        <form action="/admin/updatePark" method="post">
            <label for="park-name">Park Name:</label>
            <input type="text" id="park-name" name="parkName" required>

            <label for="park-location">Location:</label>
            <input type="text" id="park-location" name="location" required>

            <label for="park-rating">Rating:</label>
            <input type="number" id="park-rating" name="rating" min="1" max="5" required>

            <button type="submit" class="update-btn">Update Park</button>
        </form>
    </section>
</div>
<ul>
    <!-- Loop through each approved park -->
    <th:block th:each="park : ${approvedParks}">
        <li>
            <form th:action="@{/Admin/editPark/{parkName}(parkName=${park.name})}" method="post">
                <label for="newName">Name:
                    <input type="text" id="newName" name="newName" th:value="${park.name}" required />
                </label>
                <label for="newLocation">Location:
                    <input type="text" id="newLocation" name="newLocation" th:value="${park.location}" required />
                </label>
                <label for="newRating">Rating:
                    <input type="number" id="newRating" name="newRating" th:value="${park.rating}" min="1" max="5" required />
                </label>
                <button type="submit">Save Changes</button>
            </form>
        </li>
    </th:block>
</ul>

<h1>Submitted Comments</h1>
<ul>
    <th:block th:each="comment : ${comments}">
        <li>
            <p><strong>User:</strong> <span th:text="${comment.username}"></span></p>
            <p><strong>Rating:</strong> <span th:text="${comment.rating}"></span>‚≠ê</p>
            <p><strong>Comment:</strong> <span th:text="${comment.comment}"></span></p>
        </li>
    </th:block>
</ul>
    <script th:href="@{/JS/validation.js}"></script>
</body>
</html>
